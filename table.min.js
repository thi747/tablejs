var Sort=function(){var e={alphanumeric:function(e,t){return e==t?0:e<t?-1:1}};e.default=e.alphanumeric,e.numeric_converter=function(e){return function(t){return"string"==typeof t&&(t=parseFloat(t.replace(/^[^\d\.]*([\d., ]+).*/g,"$1").replace(new RegExp("[^\\d"+e+"]","g"),"").replace(/,/,"."))||0),t||0}};var t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];return e.size_converter=function(e){return function(n){if("string"==typeof n){var r=t.indexOf(n.toUpperCase().split(/.*\d ?/).pop());n=parseFloat(n.replace(/^[^\d\.]*([\d., ]+).*/g,"$1").replace(new RegExp("[^\\d"+e+"]","g"),"").replace(/,/,"."))||0,n*=Math.pow(1024,r)}return n||0}},e.size=function(t,n){return e.size.convert(t)-size.size.convert(n)},e.size.convert=e.size_converter("."),e.size_comma=function(t,n){return e.size_comma.convert(t)-e.size_comma.convert(n)},e.size_comma.convert=e.size_converter(","),e.numeric=function(t,n){return e.numeric.convert(t)-e.numeric.convert(n)},e.numeric.convert=e.numeric_converter("."),e.numeric_comma=function(t,n){return e.numeric_comma.convert(t)-e.numeric_comma.convert(n)},e.numeric_comma.convert=e.numeric_converter(","),e.ignorecase=function(t,n){return e.alphanumeric(e.ignorecase.convert(t),e.ignorecase.convert(n))},e.ignorecase.convert=function(e){return null==e?"":(""+e).toLowerCase()},e.currency=e.numeric,e.currency_comma=e.numeric_comma,e.date=function(t,n){return e.numeric(e.date.convert(t),e.date.convert(n))},e.date.fixYear=function(e){return(e=+e)<50?e+=2e3:e<100&&(e+=1900),e},e.date.formats=[{re:/(\d{2,4})-(\d{1,2})-(\d{1,2})/,f:function(t){return new Date(e.date.fixYear(t[1]),+t[2],+t[3]).getTime()}},{re:/(\d{1,2})[\/-](\d{1,2})[\/-](\d{2,4})/,f:function(t){return new Date(e.date.fixYear(t[3]),+t[1],+t[2]).getTime()}},{re:/(.*\d{4}.*\d+:\d+\d+.*)/,f:function(e){var t=new Date(e[1]);if(t)return t.getTime()}}],e.date.convert=function(t){for(var n,r,l=e.date.formats,a=0,o=l.length;a<o;a++)if((n=t.match(l[a].re))&&void 0!==(r=l[a].f(n)))return r;return 9999999999999},e}(),Table=function(){function e(e){return void 0!==e}function t(e,t){return new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)}function n(n,r){var l=n.className||"";e(l)&&!t(n,r)&&(n.className+=(l?" ":"")+r)}function r(e,t){var n=e.className||"";e.className=n.replace(new RegExp("(^|\\s)"+t+"(\\s|$)"),"$1")}function l(e,t){return e.className.match(new RegExp("(^|\\s)"+t+"([^ ]+)"))?RegExp.$2:null}function a(e){if(window.getComputedStyle){var t=window.getComputedStyle;return(a=function(e){return"none"==t(e,null).getPropertyValue("display")})(e)}return window.currentStyle?(a=function(e){return"none"==e.currentStyle.display})(e):(a=function(e){return"none"==e.style.display})(e)}function o(e,t,n){if(null!=e&&e.nodeName){if(e.nodeName==t||n&&e.nodeName==n)return e;for(;e=e.parentNode;)if(e.nodeName&&(e.nodeName==t||n&&e.nodeName==n))return e}return null}var i={AutoStripeClassName:"table-autostripe",StripeClassNamePrefix:"table-stripeclass:",AutoSortClassName:"table-autosort",AutoSortColumnPrefix:"table-autosort:",AutoSortTitle:"Click to sort",SortedAscendingClassName:"table-sorted-asc",SortedDescendingClassName:"table-sorted-desc",SortableClassName:"table-sortable",SortableColumnPrefix:"table-sortable:",NoSortClassName:"table-nosort",AutoFilterClassName:"table-autofilter",FilteredClassName:"table-filtered",FilterableClassName:"table-filterable",FilteredRowcountPrefix:"table-filtered-rowcount:",RowcountPrefix:"table-rowcount:",FilterAllLabel:"Filter: All",AutoPageSizePrefix:"table-autopage:",AutoPageJumpPrefix:"table-page:",PageNumberPrefix:"table-page-number:",PageCountPrefix:"table-page-count:",tabledata:{},uniqueId:1};return i.resolve=function(t,n){if(null!=t&&t.nodeName&&"TABLE"!=t.nodeName&&(t=o(t,"TABLE")),null==t)return null;if(!t.id){var r=null;do{r="TABLE_"+i.uniqueId++}while(null!=document.getElementById(r));t.id=r}return this.tabledata[t.id]=this.tabledata[t.id]||{},n&&function(t,n){for(var r=2;r<arguments.length;r++){var l=arguments[r];e(t[l])&&(n[l]=t[l])}}(n,this.tabledata[t.id],"stripeclass","ignorehiddenrows","useinnertext","sorttype","col","desc","page","pagesize"),t},i.processTableCells=function(e,t,n,r){null!=(e=this.resolve(e))&&("TFOOT"!=t&&this.processCells(e.tHead,n,r),"THEAD"!=t&&this.processCells(e.tFoot,n,r))},i.processCells=function(e,t,n){if(null!=e&&e.rows&&e.rows.length&&e.rows.length>0)for(var r=e.rows,l=0,a=r.length;l<a;l++){var o=r[l];if(o.cells&&o.cells.length&&o.cells.length>0)for(var i=o.cells,s=0,c=i.length;s<c;s++){var u=i[s];t.call(this,u,n)}}},i.getCellIndex=function(e){var t=e.parentNode,n=t.cells;if(n&&n.length){n.length>1&&n[n.length-1].cellIndex>0&&(this.getCellIndex=function(e){return e.cellIndex})(e);for(var r=0,l=n.length;r<l;r++)if(t.cells[r]==e)return r}return 0},i.nodeValue={INPUT:function(t){return e(t.value)&&t.type&&("checkbox"!=t.type&&"radio"!=t.type||t.checked)?t.value:""},SELECT:function(e){return e.selectedIndex>=0&&e.options?e.options[e.selectedIndex].text:""},IMG:function(e){return e.name||""}},i.getCellValue=function(t,n){if(n&&e(t.innerText))return t.innerText;if(!t.childNodes)return"";for(var r=t.childNodes,l="",a=0,o=r.length;a<o;a++){var i=r[a],s=i.nodeType;if(1==s){var c=i.nodeName;this.nodeValue[c]?l+=this.nodeValue[c](i):l+=this.getCellValue(i)}else 3==s&&(e(i.innerText)?l+=i.innerText:e(i.nodeValue)&&(l+=i.nodeValue))}return l},i.tableHeaderIndexes={},i.getActualCellIndex=function(t){if(!e(t.cellIndex))return null;var n=o(t,"TABLE"),r=t.parentNode.rowIndex+"-"+this.getCellIndex(t);if(e(this.tableHeaderIndexes[n.id]))return this.tableHeaderIndexes[n.id][r];var l=[];this.tableHeaderIndexes[n.id]={};for(var a=o(t,"THEAD").getElementsByTagName("TR"),i=0;i<a.length;i++)for(var s=a[i].cells,c=0;c<s.length;c++){var u,d=s[c],f=d.parentNode.rowIndex,p=f+"-"+this.getCellIndex(d),g=d.rowSpan||1,m=d.colSpan||1;e(l[f])||(l[f]=[]);for(var v=l[f],h=0;h<v.length+1;h++)if(!e(v[h])){u=h;break}this.tableHeaderIndexes[n.id][p]=u;for(h=f;h<f+g;h++){e(l[h])||(l[h]=[]);for(var b=l[h],x=u;x<u+m;x++)b[x]="x"}}return this.tableHeaderIndexes[n.id][r]},i.sort=function(a,o){var s,c,u=null;"function"==typeof o&&(o={sorttype:o}),e((o=o||{}).col)||(o.col=this.getActualCellIndex(a)||0),o.sorttype=o.sorttype||Sort.default,s=this.resolve(a,o),e((c=this.tabledata[s.id]).lastcol)&&c.lastcol==c.col&&e(c.lastdesc)?c.desc=!c.lastdesc:c.desc=!!o.desc,c.lastcol=c.col,c.lastdesc=!!c.desc;var d=c.sorttype;"function"==typeof d.convert&&(u=c.sorttype.convert,d=Sort.alphanumeric),this.processTableCells(s,"THEAD",function(e){t(e,this.SortableClassName)&&(r(e,this.SortedAscendingClassName),r(e,this.SortedDescendingClassName),c.col==i.getActualCellIndex(e)&&l(e,i.SortableClassName)&&n(e,c.desc?this.SortedAscendingClassName:this.SortedDescendingClassName))});var f=s.tBodies;if(null!=f&&0!=f.length){for(var p=c.desc?function(e,t){return d(t[0],e[0])}:function(e,t){return d(e[0],t[0])},g=!!c.useinnertext,m=c.col,v=0,h=f.length;v<h;v++){var b=f[v],x=b.rows,C=[];if(!t(b,i.NoSortClassName)){var N,w=0;if(N=x[w])do{if(rowCells=N.cells){var T=m<rowCells.length?this.getCellValue(rowCells[m],g):null;u&&(T=u(T)),C[w]=[T,x[w]]}}while(N=x[++w]);C.sort(p);if(N=C[w=0])do{b.appendChild(N[1])}while(N=C[++w])}}c.pagesize?this.page(s):c.stripeclass&&this.stripe(s,c.stripeclass,!!c.ignorehiddenrows)}},i.filter=function(t,n,r){var l;r=r||{};var a=this.resolve(t,r),s=this.tabledata[a.id];if(n){"SELECT"==n.nodeName&&"select-one"==n.type&&n.selectedIndex>-1&&(n={filter:n.options[n.selectedIndex].value}),"INPUT"==n.nodeName&&"text"==n.type&&(n={filter:"/"+n.value+"/"}),"object"!=typeof n||n.length||(n=[n]);for(var c=0,u=n.length;c<u;c++){var d=n[c];"string"==typeof d.filter&&(d.filter.match(/^\/(.*)\/$/)?(d.filter=new RegExp(RegExp.$1,"gi"),d.filter.regex=!0):d.filter.match(/^function\s*\(([^\)]*)\)\s*\{(.*)}\s*$/)&&(d.filter=Function(RegExp.$1,RegExp.$2))),d&&!e(d.col)&&(l=o(t,"TD","TH"))&&(d.col=this.getCellIndex(l)),d&&d.filter||!s.filters?(s.filters=s.filters||{},s.filters[d.col]=d.filter):delete s.filters[d.col]}for(var f in s.filters)var p=!0;p||(s.filters=null)}else s.filters=null;return i.scrape(t)},i.page=function(t,n,r){return r=r||{},e(n)&&(r.page=n),i.scrape(t,r)},i.pageJump=function(e,t,n){return e=this.resolve(e,n),this.page(e,(i.tabledata[e.id].page||0)+t,n)},i.pageNext=function(e,t){return this.pageJump(e,1,t)},i.pagePrevious=function(e,t){return this.pageJump(e,-1,t)},i.scrape=function(l,a){var o,s,c,u,d,f,p,g,m,v,h=[],b=0,x=0;a=a||{},f=this.resolve(l,a),e(v=(p=this.tabledata[f.id]).page)&&(v<0&&(p.page=v=0),d=(u=v*(c=p.pagesize||25)+1)+c-1);var C=f.tBodies;if(null!=C&&0!=C.length){for(var N=0,w=C.length;N<w;N++)for(var T=C[N],y=0,S=T.rows.length;y<S;y++){if(g=T.rows[y],m=!1,p.filters&&g.cells){var E=g.cells,A=E.length;for(o in p.filters)if(!m&&(s=p.filters[o])&&o<A){var I=this.getCellValue(E[o]);m=s.regex&&I.search?I.search(s)<0:"function"==typeof s?!s(I,E[o]):I!=s}}x++,m||(b++,e(v)&&(h.push(g),(b<u||b>d)&&(m=!0))),g.style.display=m?"none":""}if(e(v)&&u>=b){u=b-b%c,p.page=v=u/c;for(N=u,w=h.length;N<w;N++)h[N].style.display=""}this.processTableCells(f,"THEAD",function(l){(p.filters&&e(p.filters[i.getCellIndex(l)])&&t(l,i.FilterableClassName)?n:r)(l,i.FilteredClassName)}),p.stripeclass&&this.stripe(f);var _=Math.floor(b/c)+1;return e(v)&&(p.container_number&&(p.container_number.innerHTML=v+1),p.container_count&&(p.container_count.innerHTML=_)),p.container_filtered_count&&(p.container_filtered_count.innerHTML=b),p.container_all_count&&(p.container_all_count.innerHTML=x),{data:p,unfilteredcount:b,total:x,pagecount:_,page:v,pagesize:c}}},i.stripe=function(e,t,l){(l=l||{}).stripeclass=t,e=this.resolve(e,l);var o=this.tabledata[e.id],i=e.tBodies;if(null!=i&&0!=i.length){t=o.stripeclass;for(var s=[r,n],c=0,u=i.length;c<u;c++){var d,f=i[c].rows,p=0,g=0;if(d=f[p])if(o.ignoreHiddenRows)do{s[g++%2](d,t)}while(d=f[++p]);else do{a(d)||s[g++%2](d,t)}while(d=f[++p])}}},i.getUniqueColValues=function(e,t){for(var n={},r=this.resolve(e).tBodies,l=0,a=r.length;l<a;l++)for(var o=r[l],i=0,s=o.rows.length;i<s;i++)n[this.getCellValue(o.rows[i].cells[t])]=!0;var c=[];for(var u in n)c.push(u);return c.sort()},i.auto=function(e){var n,r,a=document.getElementsByTagName("TABLE");if(null!=a)for(var o=0,s=a.length;o<s;o++){var c=i.resolve(a[o]);r=i.tabledata[c.id],(n=l(c,i.StripeClassNamePrefix))&&(r.stripeclass=n),t(c,i.AutoFilterClassName)&&i.autofilter(c),(n=l(c,i.AutoPageSizePrefix))&&i.autopage(c,{pagesize:+n}),((n=l(c,i.AutoSortColumnPrefix))||t(c,i.AutoSortClassName))&&i.autosort(c,{col:null==n?null:+n}),r.stripeclass&&t(c,i.AutoStripeClassName)&&i.stripe(c)}},i.autosort=function(e,t){e=this.resolve(e,t);var r=this.tabledata[e.id];this.processTableCells(e,"THEAD",function(e){var a=l(e,i.SortableColumnPrefix);null!=a&&(a=a||"default",e.title=e.title||i.AutoSortTitle,n(e,i.SortableClassName),e.onclick=Function("","Table.sort(this,{'sorttype':Sort['"+a+"']})"),null!=t.col&&t.col==i.getActualCellIndex(e)&&(r.sorttype=Sort['"+type+"']))}),null!=t.col&&i.sort(e,t)},i.autopage=function(e,t){e=this.resolve(e,t);var n=this.tabledata[e.id];if(n.pagesize)return this.processTableCells(e,"THEAD,TFOOT",function(e){var t=l(e,i.AutoPageJumpPrefix);"next"==t?t=1:"previous"==t&&(t=-1),null!=t&&(e.onclick=Function("","Table.pageJump(this,"+t+")"))}),(val=l(e,i.PageNumberPrefix))&&(n.container_number=document.getElementById(val)),(val=l(e,i.PageCountPrefix))&&(n.container_count=document.getElementById(val)),i.page(e,0,t)},i.cancelBubble=function(t){"function"==typeof(t=t||window.event).stopPropagation&&t.stopPropagation(),e(t.cancelBubble)&&(t.cancelBubble=!0)},i.autofilter=function(e,n){n=n||{},e=this.resolve(e,n);var r,a=this.tabledata[e.id];i.processTableCells(e,"THEAD",function(r){if(t(r,i.FilterableClassName)){var l=i.getCellIndex(r),a=i.getUniqueColValues(e,l);if(a.length>0)if("function"==typeof n.insert)func.insert(r,a);else{for(var o='<select onchange="Table.filter(this,this)" onclick="Table.cancelBubble(event)" class="'+i.AutoFilterClassName+'"><option value="">'+i.FilterAllLabel+"</option>",s=0;s<a.length;s++)o+='<option value="'+a[s]+'">'+a[s]+"</option>";o+="</select>",r.innerHTML+="<br>"+o}}}),(r=l(e,i.FilteredRowcountPrefix))&&(a.container_filtered_count=document.getElementById(r)),(r=l(e,i.RowcountPrefix))&&(a.container_all_count=document.getElementById(r))},"undefined"!=typeof jQuery?jQuery(i.auto):window.addEventListener?window.addEventListener("load",i.auto,!1):window.attachEvent&&window.attachEvent("onload",i.auto),i}();
